{#
/**
 * @file
 * Theme override to display a single page.
 *
 * @see ./core/themes/stable/templates/layout/page.html.twig
 */
#}

{% block site_header %}
  <header class="ecl-site-header" role="banner">
    {# TODO: Where this verbose markup belongs to? here or withing the login widget? #}
    <div class="bl-site-header__top-bar">
      <div class="ecl-container ">
        {{ page.site_top_bar }}
      </div>
    </div>
    <div class="ecl-container ecl-site-header__banner">
      {{ page.site_header }}
    </div>
  </header>
{% endblock %}

{% block page_header %}
  {% if page.page_header %}
    {{ page.page_header }}
  {% endif %}
{% endblock %}

{% block navigation %}
  {{ page.navigation }}
{% endblock %}

{% block main %}

{# Content #}
{% set content_classes = [
  page.sidebar_first and page.sidebar_second ? 'ecl-col-sm-6',
  page.sidebar_first|render and page.sidebar_second|render|striptags|trim is empty ? 'ecl-col-sm-9',
  page.sidebar_second|render and page.sidebar_first|render|striptags|trim is empty ? 'ecl-col-sm-9',
  page.sidebar_first|render|striptags|trim is empty and page.sidebar_second|render|striptags|trim is empty ? 'ecl-col-sm-12'
  ]
%}

<div class="main-content ecl-u-mv-l">
  <div class="ecl-container">
    <div class="ecl-row">

      {# Sidebar First #}
      {% block sidebar_first %}
        {% if page.sidebar_first|render|striptags|trim %}
          <aside class="ecl-col-sm-3" role="complementary">
            {{ page.sidebar_first }}
          </aside>
        {% endif %}
      {% endblock %}

      {% block page_content %}
        <section {{ content_attributes.addClass(content_classes) }}>
          {{ page.content }}
        </section>
      {% endblock %}

      {# Sidebar Second #}
      {% block sidebar_second %}
        {% if page.sidebar_second|render|striptags|trim %}
          <aside class="ecl-col-sm-3" role="complementary">
            {{ page.sidebar_second }}
          </aside>
        {% endif %}
      {% endblock %}
    
    </div>
  </div>
</div>
{% endblock %}

{% if page.footer %}
  {% block footer %}
    {{ page.footer }}
  {% endblock %}
{% endif %}