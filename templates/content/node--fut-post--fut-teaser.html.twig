{#
/**
 * @file
 * Theme override to display a node.
 *
 * @see ./core/themes/stable/templates/content/node.html.twig
 */
#}

{%
  set classes = [
    'teaser',
    'teaser--' ~ node.bundle|clean_class,
    node.isPromoted() ? 'teaser--promoted',
    node.isSticky() ? 'teaser--sticky',
    not node.isPublished() ? 'node--unpublished teaser--unpublished',
    view_mode ? 'teaser--' ~ view_mode|clean_class,
    clean_class,
  ]
%}

<article {{ attributes.addClass(classes) }}>
  {% block teaser_header %}

    {% include '@cnectlib/cnect-teaser-header/cnect-teaser-header.html.twig' with {
      'group_short_name': 'Europass',
      'group_image': 'https://ec.europa.eu/futurium/sites/futurium/files/styles/thumbnail/public/european_union.jpg',
      'group_url': 'https://ec.europa.eu/futurium/en/europass',
      'content_type_name': 'my content type',
  } %}
  {% endblock teaser_header %}
  {% block teaser_body %}
    <div class="teaser__body">  
      <div class="teaser__content">
        {% if not page %}
          <h3{{ title_attributes }}>
            <a href="{{ url }}" rel="bookmark">{{ label }}</a>
          </h3>
        {% endif %}
        <div {{ content_attributes }}>
          {{ content }}
        </div>
      </div>
    </div>
  {% endblock teaser_body %}
  {% block teaser_footer %} 
    <div class="teaser__footer">
      {{ content.fut_event_date }}
      {% include '@cnectlib/cnect-contentmeta/cnect-contentmeta.html.twig' with {
        'avatar': author_picture,
        'author_name': author_name,
        'date': date,
      } %}

      {% set comments_count = node.fut_comments.comment_count %}
      {% include '@cnectlib/cnect-comments-count/cnect-comments-count.html.twig' with {
        'comments_url': url,
        'comments_url_target': '#comment-1',
        'comments_count': comments_count,
      } %}

    </div>
  {% endblock teaser_footer %}
</article>