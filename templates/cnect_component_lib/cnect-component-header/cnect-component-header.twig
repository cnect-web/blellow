{#

  - "variant" (string) (default: 'default'): can be used if need a variant of the header
  - "identity" (string) (default: ''): name of the site, i.e. "Site identity"
  - "breadcrumb" (array)  (default: []): collection of @ecl/generic-component-link
  - "group_name (string) (default: ''): name of the group"
  - "group_image (default: ''): path to group image
  - "group_link (default: ''): path to group landing page
  - "group_join (default: ''): join a group button
  - "extra_classes" (string) (default: '')
  - "system" (string) (default: "generic")
  - "metas" (array) (default: []): array of strings ; each one corresponds to a meta item

#}

{% set _variant = variant|default('') %}
{% set _identity = identity|default('') %}
{% set _breadcrumb = breadcrumb|default([]) %}
{% set _group_name = group_name|default('') %}
{% set _group_image = group_image|default('') %}
{% set _group_link = group_link|default('') %}
{% set _group_join = group_join|default('') %}
{% set _metas = metas|default([]) %}
{% set _css_class = 'ecl-page-header' %}

{# Internal logic - Process properties #}

{% if _variant is not empty %}
  {% set _css_class = _css_class ~ ' ecl-page-header--' ~ _variant %}
{% endif %} 

{% if extra_classes is defined and extra_classes is not empty %}
  {% set _css_class = _css_class ~ ' ' ~ extra_classes %}
{% endif %} 

<div class="{{ _css_class }}">
  <div class="ecl-container">
    {% if _breadcrumb is not empty %}
          {% include '@ecl/generic-component-breadcrumb' with {
            'segments': _breadcrumb,
            'system': _system
          } only %}
    {% endif %}
    {% if _identity is not empty or _metas is not empty or _group_name is not empty %}
    <div class="ecl-page-header__body">
      {% if _group_image is not empty %}
      <a href="{{ group_link }}">
        <img src="{{ _group_image }}" />
      </a>
      {% endif %}
      {% if _identity is not empty %}
        <div class="ecl-page-header__identity">
          {{ _identity }}
        </div>
      {% endif %}      
      {% if _group_name is not empty %}
      <a href="{{ group_link }}">
        <div class="ecl-page-header__title">
          <h1 class="ecl-heading ecl-heading--h1 ecl-u-color-white">{{ _group_name }}</h1>
        </div>
      </a>
      {% endif %}
      {% if _metas is not empty %}
        <div class="ecl-page-header__meta">
          {% include '@ecl/generic-component-meta' with {
            'variant': 'header',
            'metas': _metas
          } only %}
        </div>
      {% endif %}
      {% if _group_join is not empty %}
        <button type="submit" class="ecl-button ecl-button--call ecl-button--caret-right">{{ group_join }}</button>
        {% include '@ecl/generic-component-button' with {
          'modifier': 'call',
          'href': href|default(''),
          'icon': icon|default(''),
          'label': label|default(''),
        } only %}
      {% endif %}
    </div>
    {% endif %}

    
  </div>
</div>